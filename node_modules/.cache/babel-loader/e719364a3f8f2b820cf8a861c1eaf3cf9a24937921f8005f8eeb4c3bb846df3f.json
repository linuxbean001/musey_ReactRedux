{"ast":null,"code":"var _jsxFileName = \"D:\\\\Prashant\\\\ReduxProject(PS)\\\\AI Generation Context API\\\\musey_ReactRedux\\\\src\\\\StripeCheckout.js\";\n// StripeCheckoutButton.js\nimport React, { useEffect } from \"react\";\nimport \"./Stripe.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StripeCheckout = _ref => {\n  let {\n    userId\n  } = _ref;\n  // const navigate = useNavigate();\n  console.log(\"userId\", userId);\n  const fetchData = async () => {\n    try {\n      const response = await fetch(`http://localhost:8000/create-checkout-session?userid=${userId}`);\n      const data = await response.json();\n      console.log(\"data\", data);\n      redirectToStripeCheckout(data.sessionId);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n  const redirectToStripeCheckout = sessionId => {\n    const stripeScript = document.createElement(\"script\");\n    stripeScript.src = \"https://js.stripe.com/v3/\";\n    stripeScript.async = true;\n    stripeScript.addEventListener(\"load\", () => {\n      const stripe = window.Stripe(\"pk_test_51MniNtSGd0ho6TQXHQ8Puew9Z1Mk1WVkXRruOE4g58O8U5tdTWZsgWXjTAhH9RmWSgta4USqjd8NupY3KMtXXsFF00DBojq5zE\");\n      stripe.redirectToCheckout({\n        sessionId\n      }).then(result => {\n        // Handle any errors during the redirection if needed\n        console.log(\"Redirect result:\", result);\n        if (result && result.error) {\n          console.error(\"Payment error:\", result.error.message);\n        } else {\n          window.location.href = `http://localhost:3000?session_id=${sessionId}`;\n        }\n      }).catch(error => {\n        console.error(\"Subscription not activated:\", result);\n      });\n    });\n    document.body.appendChild(stripeScript);\n  };\n  const handleSubscription = () => {};\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columns\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"price\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"header\",\n          children: \"Basic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"grey\",\n          children: \"$ 9.99 / year\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"10GB Storage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"10 Emails\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"10 Domains\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"1GB Bandwidth\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"grey\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            className: \"button\",\n            onClick: handleSubscription,\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this); // You can return null or an empty fragment since this component doesn't render anything\n};\n_c = StripeCheckout;\nexport default StripeCheckout;\nvar _c;\n$RefreshReg$(_c, \"StripeCheckout\");","map":{"version":3,"names":["React","useEffect","jsxDEV","_jsxDEV","StripeCheckout","_ref","userId","console","log","fetchData","response","fetch","data","json","redirectToStripeCheckout","sessionId","error","stripeScript","document","createElement","src","async","addEventListener","stripe","window","Stripe","redirectToCheckout","then","result","message","location","href","catch","body","appendChild","handleSubscription","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["D:/Prashant/ReduxProject(PS)/AI Generation Context API/musey_ReactRedux/src/StripeCheckout.js"],"sourcesContent":["// StripeCheckoutButton.js\r\nimport React, { useEffect } from \"react\";\r\nimport \"./Stripe.css\"\r\n\r\nconst StripeCheckout = ({ userId }) => {\r\n  // const navigate = useNavigate();\r\n  console.log(\"userId\", userId);\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          `http://localhost:8000/create-checkout-session?userid=${userId}`\r\n        );\r\n        const data = await response.json();\r\n        console.log(\"data\", data);\r\n        redirectToStripeCheckout(data.sessionId);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    };\r\n\r\n    const redirectToStripeCheckout = (sessionId) => {\r\n      const stripeScript = document.createElement(\"script\");\r\n      stripeScript.src = \"https://js.stripe.com/v3/\";\r\n      stripeScript.async = true;\r\n\r\n      stripeScript.addEventListener(\"load\", () => {\r\n        const stripe = window.Stripe(\r\n          \"pk_test_51MniNtSGd0ho6TQXHQ8Puew9Z1Mk1WVkXRruOE4g58O8U5tdTWZsgWXjTAhH9RmWSgta4USqjd8NupY3KMtXXsFF00DBojq5zE\"\r\n        );\r\n        stripe\r\n          .redirectToCheckout({ sessionId })\r\n          .then((result) => {\r\n            // Handle any errors during the redirection if needed\r\n            console.log(\"Redirect result:\", result);\r\n\r\n            if (result && result.error) {\r\n              console.error(\"Payment error:\", result.error.message);\r\n            } else {\r\n              window.location.href = `http://localhost:3000?session_id=${sessionId}`;\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Subscription not activated:\", result);\r\n          });\r\n      });\r\n\r\n      document.body.appendChild(stripeScript);\r\n    };\r\n\r\n    \r\n\r\n  const handleSubscription = () =>{\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"columns\">\r\n        <ul className=\"price\">\r\n          <li className=\"header\">Basic</li>\r\n          <li className=\"grey\">$ 9.99 / year</li>\r\n          <li>10GB Storage</li>\r\n          <li>10 Emails</li>\r\n          <li>10 Domains</li>\r\n          <li>1GB Bandwidth</li>\r\n          <li className=\"grey\">\r\n            <a href=\"#\" className=\"button\" onClick={handleSubscription}>\r\n              Sign Up\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  ); // You can return null or an empty fragment since this component doesn't render anything\r\n};\r\n\r\nexport default StripeCheckout;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}